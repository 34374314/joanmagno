sudo apt update
sudo apt upgrade
sudo apt install qemu-guest-agent
sudo ufw reset
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow http
sudo ufw allow https
sudo ufw limit ssh
sudo ufw enable
sudo ufw status verbose
sudo fail2ban-client status sshd
sudo timedatectl set-timezone Australia/Perth
sudo apt install chrony -y

sudo -i
[sudo] password for jmagno: 
cd /etc/ssh/sshd_config.d/
nano 50-cloud-init.conf 
cat 50-cloud-init.conf 
PasswordAuthentication yes
exit
logout

sudo reboot
sudo apt install apache2 -y
sudo systemctl enable --now apache2
sudo apt install php php-cli php-common php-mysql php-gd php-mbstring php-xml php-curl unzip -y
sudo apt install php-gd php-imap php-intl php-apcu -y
php -v
sudo apt install mariadb-server -y
sudo systemctl enable --now mariadb
sudo -i
sudo systemctl status apache2
sudo systemctl status mariadb

scp Downloads/osTicket.zip
mkdir temp
mv osTicket.zip temp/
cd temp/
ls
    osTicket.zip
unzip osTicket.zip 
    Archive:  osTicket.zip
      inflating: osTicket-v1.18.2.zip    
      inflating: auth-2fa.phar           
      inflating: audit.phar              
      inflating: auth-passthru.phar      
      inflating: auth-ldap.phar          
      inflating: auth-oauth2.phar        
      inflating: auth-password-policy.phar  
      inflating: storage-s3.phar         
      inflating: storage-fs.phar         
unzip osTicket-v1.18.2.zip

jmagno@helpdesk:~/temp$ ls
audit.phar     auth-ldap.phar    auth-passthru.phar         osTicket-v1.18.2.zip  scripts          storage-s3.phar
auth-2fa.phar  auth-oauth2.phar  auth-password-policy.phar  osTicket.zip          storage-fs.phar  upload
jmagno@helpdesk:~/temp$ cd upload/
jmagno@helpdesk:~/temp/upload$ ls
account.php  assets         client.inc.php  include    login.php     manage.php   profile.php     setup
ajax.php     avatar.php     css             index.php  logo.php      offline.php  pwreset.php     tickets.php
api          bootstrap.php  file.php        js         logout.php    open.php     scp             view.php
apps         captcha.php    images          kb         main.inc.php  pages        secure.inc.php  web.config
jmagno@helpdesk:~/temp/upload$ sudo mv * /var/www/html/
jmagno@helpdesk:~/temp/upload$ cd ..
ljmagno@helpdesk:~/temp$ ls
audit.phar     auth-ldap.phar    auth-passthru.phar         osTicket-v1.18.2.zip  scripts/         storage-s3.phar
auth-2fa.phar  auth-oauth2.phar  auth-password-policy.phar  osTicket.zip          storage-fs.phar  upload/
jmagno@helpdesk:~/temp$ sudo mv *.phar /var/www/html/include/plugins/
jmagno@helpdesk:~/temp$ 
